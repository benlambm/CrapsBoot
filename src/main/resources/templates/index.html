<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Spring Boot Craps</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/casino.css}" rel="stylesheet">
    <style>
        .dice-display { font-size: 5rem; line-height: 1; }
        body { background-color: #2d5a27; color: white; }
        .card { background-color: #3b7a33; border: 2px solid #ffd700; color: white;}
    </style>
</head>
<body class="container py-5 text-center">

    <h1 class="mb-4 text-warning fw-bold">&#127922; Casino Craps &#127922;</h1>

    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card p-4 shadow-lg mb-4 shimmer-border">
                <h3>Bankroll: $<span id="bankroll" th:text="${game.bankroll}" class="text-warning bankroll-glow"></span></h3>
                <h5 th:if="${game.point > 0}">Current Point: <span th:text="${game.point}" class="badge bg-light text-dark"></span></h5>
                <h5 th:if="${game.point == 0}">Current Point: <span class="badge bg-secondary">OFF</span></h5>

                <div class="d-flex justify-content-center gap-3 my-4">
                    <span id="dice1" class="dice-display fade-in" th:text="${game.getDiceEmoji(game.lastDice1)}">&#127922;</span>
                    <span id="dice2" class="dice-display fade-in delay-1" th:text="${game.getDiceEmoji(game.lastDice2)}">&#127922;</span>
                </div>

                <h4 id="game-message" class="mb-4 fade-in delay-2" th:text="${game.message}">Message here</h4>

                <form id="roll-form" th:action="@{/roll}" method="post" class="d-inline">
                    <button id="roll-btn" type="submit" class="btn btn-warning btn-lg fw-bold px-5 pulse-glow">Roll Dice ($10)</button>
                </form>
            </div>

            <div class="d-flex justify-content-between bg-dark p-3 rounded mb-4">
                <span class="fs-5">Wins: <span th:text="${game.wins}" class="text-success fw-bold"></span></span>
                <span class="fs-5">Losses: <span th:text="${game.losses}" class="text-danger fw-bold"></span></span>
            </div>

            <div class="d-flex justify-content-center gap-3">
                <form th:action="@{/game-over}" method="get">
                    <button type="submit" class="btn btn-outline-light">Cash Out</button>
                </form>
                <form th:action="@{/reset}" method="post">
                    <button type="submit" class="btn btn-outline-danger">Restart Game</button>
                </form>
            </div>
        </div>
    </div>

    <script th:src="@{/js/casino.js}"></script>
</body>
</html>
